!function(){"use strict";function e(e,n,i){"addEventListener"in window?e.addEventListener(n,i,!1):"attachEvent"in window&&e.attachEvent("on"+n,i)}function n(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!k;e+=1)k=window[n[e]+"RequestAnimationFrame"];k||i(" RequestAnimationFrame not supported")}function i(e){C.log&&"object"==typeof console&&console.log(p+"[Host page"+x+"]"+e)}function t(e){function n(){function e(){s(F),r(),C.resizedCallback(F)}d("Height"),d("Width"),c(e,F,"resetPage")}function t(e){var n=e.id;i(" Removing iFrame: "+n),e.parentNode.removeChild(e),C.closedCallback(n),i(" --")}function l(){var e=z.substr(w).split(":");return{iframe:document.getElementById(e[0]),id:e[0],height:e[1],width:e[2],type:e[3]}}function d(e){var n=Number(C["max"+e]),t=Number(C["min"+e]),o=e.toLowerCase(),r=Number(F[o]);if(t>n)throw new Error("Value for min"+e+" can not be greater than max"+e);i(" Checking "+o+" is in range "+t+"-"+n),t>r&&(r=t,i(" Set "+o+" to min value")),r>n&&(r=n,i(" Set "+o+" to max value")),F[o]=""+r}function u(){var n=e.origin,t=F.iframe.src.split("/").slice(0,3).join("/");if(C.checkOrigin&&(i(" Checking connection is from: "+t),""+n!="null"&&n!==t))throw new Error("Unexpected message received from: "+n+" for "+F.iframe.id+". Message was: "+e.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function f(){return p===(""+z).substr(0,w)}function m(){var e=F.type in{true:1,false:1};return e&&i(" Ignoring init message from meta parent page"),e}function g(){var e=z.substr(z.indexOf(":")+y+6);i(" MessageCallback passed: {iframe: "+F.iframe.id+", message: "+e+"}"),C.messageCallback({iframe:F.iframe,message:JSON.parse(e)}),i(" --")}function b(){if(null===F.iframe)throw new Error("iFrame ("+F.id+") does not exist on "+x);return!0}function k(){var e=F.iframe.getBoundingClientRect(),n=o();return{x:Number(e.left)+Number(n.x),y:Number(e.top)+Number(n.y)}}function M(e){var n=e?k():{x:0,y:0};i(" Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),v={x:Number(F.width)+n.x,y:Number(F.height)+n.y},r()}function E(){switch(F.type){case"close":t(F.iframe),C.resizedCallback(F);break;case"message":g();break;case"scrollTo":M(!1);break;case"scrollToOffset":M(!0);break;case"reset":a(F);break;case"init":n(),C.initCallback(F.iframe);break;default:n()}}var z=e.data,F={};f()&&(i(" Received: "+z),F=l(),!m()&&b()&&u()&&(E(),h=!1))}function o(){null===v&&(v={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},i(" Get position: "+v.x+","+v.y))}function r(){null!==v&&(window.scrollTo(v.x,v.y),i(" Set position: "+v.x+","+v.y),v=null)}function a(e){function n(){s(e),l("reset","reset",e.iframe)}i(" Size reset requested by "+("init"===e.type?"host page":"iFrame")),o(),c(n,e,"init")}function s(e){function n(n){e.iframe.style[n]=e[n]+"px",i(" IFrame ("+e.iframe.id+") "+n+" set to "+e[n]+"px")}C.sizeHeight&&n("height"),C.sizeWidth&&n("width")}function c(e,n,t){t!==n.type&&k?(i(" Requesting animation frame"),k(e)):e()}function l(e,n,t){i("["+e+"] Sending msg to iframe ("+n+")"),t.contentWindow.postMessage(p+n,"*")}function d(){function n(){function e(e){1/0!==C[e]&&0!==C[e]&&(d.style[e]=C[e]+"px",i(" Set "+e+" = "+C[e]+"px"))}e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}function t(e){return""===e&&(d.id=e="iFrameResizer"+g++,i(" Added missing iframe ID: "+e+" ("+d.src+")")),e}function o(){i(" IFrame scrolling "+(C.scrolling?"enabled":"disabled")+" for "+u),d.style.overflow=!1===C.scrolling?"hidden":"auto",d.scrolling=!1===C.scrolling?"no":"yes"}function r(){("number"==typeof C.bodyMargin||"0"===C.bodyMargin)&&(C.bodyMarginV1=C.bodyMargin,C.bodyMargin=""+C.bodyMargin+"px")}function s(){return u+":"+C.bodyMarginV1+":"+C.sizeWidth+":"+C.log+":"+C.interval+":"+C.enablePublicMethods+":"+C.autoResize+":"+C.bodyMargin+":"+C.heightCalculationMethod+":"+C.bodyBackground+":"+C.bodyPadding+":"+C.tolerance}function c(n){e(d,"load",function(){var e=h;l("iFrame.onload",n,d),!e&&C.heightCalculationMethod in M&&a({iframe:d,height:0,width:0,type:"init"})}),l("init",n,d)}var d=this,u=t(d.id);o(),n(),r(),c(s())}function u(e){if("object"!=typeof e)throw new TypeError("Options is not an object.")}function f(){function e(e){if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">.");d.call(e)}function n(e){e=e||{},u(e);for(var n in E)E.hasOwnProperty(n)&&(C[n]=e.hasOwnProperty(n)?e[n]:E[n])}return function(i,t){n(i),Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),e)}}function m(e){e.fn.iFrameResize=function(n){return n=n||{},u(n),C=e.extend({},E,n),this.filter("iframe").each(d).end()}}var g=0,h=!0,b="message",y=b.length,p="[iFrameSizer]",w=p.length,x="",v=null,k=window.requestAnimationFrame,M={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},C={},E={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}};n(),e(window,"message",t),window.jQuery&&m(jQuery),"function"==typeof define&&define.amd?define([],f):"object"==typeof exports?module.exports=f():window.iFrameResize=f()}();